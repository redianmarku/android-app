<core-navbar-buttons end><core-context-menu><core-context-menu-item *ngIf="h5pActivity && h5pActivity.enabletracking && accessInfo && !accessInfo.canreviewattempts" [priority]="1000" [content]="'addon.mod_h5pactivity.review_my_attempts' | translate" (action)="viewMyAttempts()" [iconAction]="'stats'"></core-context-menu-item><core-context-menu-item *ngIf="externalUrl" [priority]="900" [content]="'core.openinbrowser' | translate" [href]="externalUrl" [iconAction]="'open'"></core-context-menu-item><core-context-menu-item *ngIf="description" [priority]="800" [content]="'core.moduleintro' | translate" (action)="expandDescription()" [iconAction]="'arrow-forward'"></core-context-menu-item><core-context-menu-item *ngIf="blog" [priority]="750" content="{{'addon.blog.blog' | translate}}" [iconAction]="'fa-newspaper-o'" (action)="gotoBlog($event)"></core-context-menu-item><core-context-menu-item *ngIf="loaded && !hasOffline && isOnline" [priority]="700" [content]="'core.refresh' | translate" (action)="doRefresh(null, $event)" [iconAction]="refreshIcon" [closeOnClick]="false"></core-context-menu-item><core-context-menu-item *ngIf="loaded && hasOffline && isOnline" [priority]="600" [content]="'core.settings.synchronizenow' | translate" (action)="doRefresh(null, $event, true)" [iconAction]="syncIcon" [closeOnClick]="false"></core-context-menu-item><core-context-menu-item *ngIf="prefetchStatusIcon" [priority]="500" [content]="prefetchText" (action)="prefetch($event)" [iconAction]="prefetchStatusIcon" [closeOnClick]="false"></core-context-menu-item><core-context-menu-item *ngIf="size" [priority]="400" [content]="'core.removefiles' | translate:{$a: size}" [iconDescription]="'cube'" (action)="removeFiles($event)" [iconAction]="'trash'" [closeOnClick]="false"></core-context-menu-item></core-context-menu></core-navbar-buttons><core-loading [hideUntil]="loaded" class="core-loading-center safe-area-page"><core-course-module-description [description]="description" [component]="component" [componentId]="componentId" contextLevel="module" [contextInstanceId]="module.id" [courseId]="courseId"></core-course-module-description><ion-card class="core-warning-card" icon-start *ngIf="hasOffline"><ion-icon name="warning"></ion-icon>{{ 'core.hasdatatosync' | translate:{$a: moduleName} }}</ion-card><ion-card class="core-warning-card" icon-start *ngIf="!siteCanDownload && playing"><ion-icon name="warning"></ion-icon>{{ 'core.h5p.offlinedisabled' | translate }} {{ 'addon.mod_h5pactivity.offlinedisabledwarning' | translate }}</ion-card><ion-card class="core-warning-card" icon-start *ngIf="accessInfo && !trackComponent"><ion-icon name="warning"></ion-icon>{{ 'addon.mod_h5pactivity.previewmode' | translate }}</ion-card><ion-list *ngIf="deployedFile && !playing"><ion-item text-wrap *ngIf="stateMessage"><p>{{ stateMessage | translate }}</p></ion-item><ion-item *ngIf="!downloading && needsDownload" text-wrap><a ion-button block (click)="downloadAndPlay($event)">{{ 'addon.mod_h5pactivity.downloadh5pfile' | translate }}</a></ion-item><ion-item text-center *ngIf="downloading"><ion-spinner></ion-spinner><h2 *ngIf="progressMessage">{{ progressMessage | translate }}</h2><core-progress-bar *ngIf="percentage <= 100" [progress]="percentage"></core-progress-bar></ion-item></ion-list><core-h5p-iframe *ngIf="playing" [fileUrl]="fileUrl" [displayOptions]="displayOptions" [onlinePlayerUrl]="onlinePlayerUrl" [trackComponent]="trackComponent" [contextId]="h5pActivity.context"></core-h5p-iframe></core-loading>