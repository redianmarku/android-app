{"version":3,"sources":["../../src/addon/calendar/pages/index/index.module.ts","../../src/addon/calendar/pages/index/index.ts"],"names":[],"mappings":"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","file":"143.js","sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { CoreComponentsModule } from '@components/components.module';\nimport { CoreDirectivesModule } from '@directives/directives.module';\nimport { CorePipesModule } from '@pipes/pipes.module';\nimport { AddonCalendarComponentsModule } from '../../components/components.module';\nimport { AddonCalendarIndexPage } from './index';\n\n@NgModule({\n    declarations: [\n        AddonCalendarIndexPage,\n    ],\n    imports: [\n        CoreComponentsModule,\n        CoreDirectivesModule,\n        CorePipesModule,\n        AddonCalendarComponentsModule,\n        IonicPageModule.forChild(AddonCalendarIndexPage),\n        TranslateModule.forChild()\n    ],\n})\nexport class AddonCalendarIndexPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/addon/calendar/pages/index/index.module.ts","// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OFx ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, OnInit, OnDestroy, ViewChild, NgZone } from '@angular/core';\nimport { IonicPage, NavParams, NavController, PopoverController } from 'ionic-angular';\nimport { CoreAppProvider } from '@providers/app';\nimport { CoreEventsProvider } from '@providers/events';\nimport { CoreLocalNotificationsProvider } from '@providers/local-notifications';\nimport { CoreSitesProvider } from '@providers/sites';\nimport { CoreDomUtilsProvider } from '@providers/utils/dom';\nimport { AddonCalendarProvider } from '../../providers/calendar';\nimport { AddonCalendarOfflineProvider } from '../../providers/calendar-offline';\nimport { AddonCalendarHelperProvider, AddonCalendarFilter } from '../../providers/helper';\nimport { AddonCalendarCalendarComponent } from '../../components/calendar/calendar';\nimport { AddonCalendarUpcomingEventsComponent } from '../../components/upcoming-events/upcoming-events';\nimport { AddonCalendarFilterPopoverComponent } from '../../components/filter/filter';\nimport { AddonCalendarSyncProvider } from '../../providers/calendar-sync';\nimport { CoreCoursesHelperProvider } from '@core/courses/providers/helper';\nimport { Network } from '@ionic-native/network';\n\n/**\n * Page that displays the calendar events.\n */\n@IonicPage({ segment: 'addon-calendar-index' })\n@Component({\n    selector: 'page-addon-calendar-index',\n    templateUrl: 'index.html',\n})\nexport class AddonCalendarIndexPage implements OnInit, OnDestroy {\n    @ViewChild(AddonCalendarCalendarComponent) calendarComponent: AddonCalendarCalendarComponent;\n    @ViewChild(AddonCalendarUpcomingEventsComponent) upcomingEventsComponent: AddonCalendarUpcomingEventsComponent;\n\n    protected eventId: number;\n    protected currentSiteId: string;\n\n    // Observers.\n    protected newEventObserver: any;\n    protected discardedObserver: any;\n    protected editEventObserver: any;\n    protected deleteEventObserver: any;\n    protected undeleteEventObserver: any;\n    protected syncObserver: any;\n    protected manualSyncObserver: any;\n    protected onlineObserver: any;\n    protected filterChangedObserver: any;\n\n    year: number;\n    month: number;\n    canCreate = false;\n    courses: any[];\n    notificationsEnabled = false;\n    loaded = false;\n    hasOffline = false;\n    isOnline = false;\n    syncIcon: string;\n    showCalendar = true;\n    loadUpcoming = false;\n    filter: AddonCalendarFilter = {\n        filtered: false,\n        courseId: null,\n        categoryId: null,\n        course: true,\n        group: true,\n        site: true,\n        user: true,\n        category: true\n    };\n\n    constructor(localNotificationsProvider: CoreLocalNotificationsProvider,\n            navParams: NavParams,\n            network: Network,\n            zone: NgZone,\n            sitesProvider: CoreSitesProvider,\n            private navCtrl: NavController,\n            private domUtils: CoreDomUtilsProvider,\n            private calendarProvider: AddonCalendarProvider,\n            private calendarOffline: AddonCalendarOfflineProvider,\n            private calendarHelper: AddonCalendarHelperProvider,\n            private calendarSync: AddonCalendarSyncProvider,\n            private eventsProvider: CoreEventsProvider,\n            private coursesHelper: CoreCoursesHelperProvider,\n            private appProvider: CoreAppProvider,\n            private popoverCtrl: PopoverController) {\n\n        this.eventId = navParams.get('eventId') || false;\n        this.year = navParams.get('year');\n        this.month = navParams.get('month');\n        this.notificationsEnabled = localNotificationsProvider.isAvailable();\n        this.currentSiteId = sitesProvider.getCurrentSiteId();\n        this.loadUpcoming = !!navParams.get('upcoming');\n        this.showCalendar = !this.loadUpcoming;\n\n        AddonCalendarProvider.ALL_TYPES.forEach((name) => {\n            this.filter[name] = true;\n        });\n        this.filter.courseId = navParams.get('courseId');\n\n        // Listen for events added. When an event is added, reload the data.\n        this.newEventObserver = eventsProvider.on(AddonCalendarProvider.NEW_EVENT_EVENT, (data) => {\n            if (data && data.event) {\n                this.loaded = false;\n                this.refreshData(true, false, true);\n            }\n        }, this.currentSiteId);\n\n        // Listen for new event discarded event. When it does, reload the data.\n        this.discardedObserver = eventsProvider.on(AddonCalendarProvider.NEW_EVENT_DISCARDED_EVENT, () => {\n            this.loaded = false;\n            this.refreshData(true, false, true);\n        }, this.currentSiteId);\n\n        // Listen for events edited. When an event is edited, reload the data.\n        this.editEventObserver = eventsProvider.on(AddonCalendarProvider.EDIT_EVENT_EVENT, (data) => {\n            if (data && data.event) {\n                this.loaded = false;\n                this.refreshData(true, false, true);\n            }\n        }, this.currentSiteId);\n\n        // Refresh data if calendar events are synchronized automatically.\n        this.syncObserver = eventsProvider.on(AddonCalendarSyncProvider.AUTO_SYNCED, (data) => {\n            this.loaded = false;\n            this.refreshData(false, false, true);\n        }, this.currentSiteId);\n\n        // Refresh data if calendar events are synchronized manually but not by this page.\n        this.manualSyncObserver = eventsProvider.on(AddonCalendarSyncProvider.MANUAL_SYNCED, (data) => {\n            if (data && data.source != 'index') {\n                this.loaded = false;\n                this.refreshData(false, false, true);\n            }\n        }, this.currentSiteId);\n\n        // Update the events when an event is deleted.\n        this.deleteEventObserver = eventsProvider.on(AddonCalendarProvider.DELETED_EVENT_EVENT, (data) => {\n            this.loaded = false;\n            this.refreshData(false, false, true);\n        }, this.currentSiteId);\n\n        // Update the \"hasOffline\" property if an event deleted in offline is restored.\n        this.undeleteEventObserver = eventsProvider.on(AddonCalendarProvider.UNDELETED_EVENT_EVENT, (data) => {\n            this.calendarOffline.hasOfflineData().then((hasOffline) => {\n                this.hasOffline = hasOffline;\n            });\n        }, this.currentSiteId);\n\n        this.filterChangedObserver = this.eventsProvider.on(AddonCalendarProvider.FILTER_CHANGED_EVENT, (data) => {\n            this.filter = data;\n\n            // Course viewed has changed, check if the user can create events for this course calendar.\n            this.calendarHelper.canEditEvents(this.filter['courseId']).then((canEdit) => {\n                this.canCreate = canEdit;\n            });\n        });\n\n        // Refresh online status when changes.\n        this.onlineObserver = network.onchange().subscribe(() => {\n            // Execute the callback in the Angular zone, so change detection doesn't stop working.\n            zone.run(() => {\n                this.isOnline = this.appProvider.isOnline();\n            });\n        });\n    }\n\n    /**\n     * View loaded.\n     */\n    ngOnInit(): void {\n        if (this.eventId) {\n            // There is an event to load, open the event in a new state.\n            this.gotoEvent(this.eventId);\n        }\n\n        this.fetchData(true, false);\n    }\n\n    /**\n     * Fetch all the data required for the view.\n     *\n     * @param sync Whether it should try to synchronize offline events.\n     * @param showErrors Whether to show sync errors to the user.\n     * @return Promise resolved when done.\n     */\n    fetchData(sync?: boolean, showErrors?: boolean): Promise<any> {\n\n        this.syncIcon = 'spinner';\n        this.isOnline = this.appProvider.isOnline();\n\n        let promise;\n\n        if (sync) {\n            // Try to synchronize offline events.\n            promise = this.calendarSync.syncEvents().then((result) => {\n                if (result.warnings && result.warnings.length) {\n                    this.domUtils.showErrorModal(result.warnings[0]);\n                }\n\n                if (result.updated) {\n                    // Trigger a manual sync event.\n                    result.source = 'index';\n\n                    this.eventsProvider.trigger(AddonCalendarSyncProvider.MANUAL_SYNCED, result, this.currentSiteId);\n                }\n            }).catch((error) => {\n                if (showErrors) {\n                    this.domUtils.showErrorModalDefault(error, 'core.errorsync', true);\n                }\n            });\n        } else {\n            promise = Promise.resolve();\n        }\n\n        return promise.then(() => {\n            const promises = [];\n\n            this.hasOffline = false;\n\n            // Load courses for the popover.\n            promises.push(this.coursesHelper.getCoursesForPopover(this.filter.courseId).then((data) => {\n                this.courses = data.courses;\n            }));\n\n            // Check if user can create events.\n            promises.push(this.calendarHelper.canEditEvents(this.filter.courseId).then((canEdit) => {\n                this.canCreate = canEdit;\n            }));\n\n            // Check if there is offline data.\n            promises.push(this.calendarOffline.hasOfflineData().then((hasOffline) => {\n                this.hasOffline = hasOffline;\n            }));\n\n            return Promise.all(promises);\n        }).catch((error) => {\n            this.domUtils.showErrorModalDefault(error, 'addon.calendar.errorloadevents', true);\n        }).finally(() => {\n            this.loaded = true;\n            this.syncIcon = 'sync';\n        });\n    }\n\n    /**\n     * Refresh the data.\n     *\n     * @param refresher Refresher.\n     * @param done Function to call when done.\n     * @param showErrors Whether to show sync errors to the user.\n     * @return Promise resolved when done.\n     */\n    doRefresh(refresher?: any, done?: () => void, showErrors?: boolean): Promise<any> {\n        if (this.loaded) {\n            return this.refreshData(true, showErrors).finally(() => {\n                refresher && refresher.complete();\n                done && done();\n            });\n        }\n\n        return Promise.resolve();\n    }\n\n    /**\n     * Refresh the data.\n     *\n     * @param sync Whether it should try to synchronize offline events.\n     * @param showErrors Whether to show sync errors to the user.\n     * @param afterChange Whether the refresh is done after an event has changed or has been synced.\n     * @return Promise resolved when done.\n     */\n    refreshData(sync?: boolean, showErrors?: boolean, afterChange?: boolean): Promise<any> {\n        this.syncIcon = 'spinner';\n\n        const promises = [];\n\n        promises.push(this.calendarProvider.invalidateAllowedEventTypes());\n\n        // Refresh the sub-component.\n        if (this.showCalendar && this.calendarComponent) {\n            promises.push(this.calendarComponent.refreshData(afterChange));\n        } else if (!this.showCalendar && this.upcomingEventsComponent) {\n            promises.push(this.upcomingEventsComponent.refreshData(afterChange));\n        }\n\n        return Promise.all(promises).finally(() => {\n            return this.fetchData(sync, showErrors);\n        });\n    }\n\n    /**\n     * Navigate to a particular event.\n     *\n     * @param eventId Event to load.\n     */\n    gotoEvent(eventId: number): void {\n        if (eventId < 0) {\n            // It's an offline event, go to the edit page.\n            this.openEdit(eventId);\n        } else {\n            this.navCtrl.push('AddonCalendarEventPage', {\n                id: eventId\n            });\n        }\n    }\n\n    /**\n     * View a certain day.\n     *\n     * @param data Data with the year, month and day.\n     */\n    gotoDay(data: any): void {\n        const params: any = {\n            day: data.day,\n            month: data.month,\n            year: data.year\n        };\n\n        Object.keys(this.filter).forEach((key) => {\n            params[key] = this.filter[key];\n        });\n\n        this.navCtrl.push('AddonCalendarDayPage', params);\n    }\n\n    /**\n     * Show the context menu.\n     *\n     * @param event Event.\n     */\n    openFilter(event: MouseEvent): void {\n        const popover = this.popoverCtrl.create(AddonCalendarFilterPopoverComponent, {\n            courses: this.courses,\n            filter: this.filter\n        });\n\n        popover.present({\n            ev: event\n        });\n    }\n\n    /**\n     * Open page to create/edit an event.\n     *\n     * @param eventId Event ID to edit.\n     */\n    openEdit(eventId?: number): void {\n        const params: any = {};\n\n        if (eventId) {\n            params.eventId = eventId;\n        }\n        if (this.filter.courseId) {\n            params.courseId = this.filter.courseId;\n        }\n\n        this.navCtrl.push('AddonCalendarEditEventPage', params);\n    }\n\n    /**\n     * Open calendar events settings.\n     */\n    openSettings(): void {\n        this.navCtrl.push('AddonCalendarSettingsPage');\n    }\n\n    /**\n     * Toogle display: monthly view or upcoming events.\n     */\n    toggleDisplay(): void {\n        this.showCalendar = !this.showCalendar;\n\n        if (!this.showCalendar) {\n            this.loadUpcoming = true;\n        }\n    }\n\n    /**\n     * Page destroyed.\n     */\n    ngOnDestroy(): void {\n        this.newEventObserver && this.newEventObserver.off();\n        this.discardedObserver && this.discardedObserver.off();\n        this.editEventObserver && this.editEventObserver.off();\n        this.deleteEventObserver && this.deleteEventObserver.off();\n        this.undeleteEventObserver && this.undeleteEventObserver.off();\n        this.syncObserver && this.syncObserver.off();\n        this.manualSyncObserver && this.manualSyncObserver.off();\n        this.filterChangedObserver && this.filterChangedObserver.off();\n        this.onlineObserver && this.onlineObserver.unsubscribe();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/addon/calendar/pages/index/index.ts"],"sourceRoot":""}