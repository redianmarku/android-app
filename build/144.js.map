{"version":3,"sources":["../../src/addon/calendar/pages/event/event.module.ts","../../src/addon/calendar/pages/event/event.ts"],"names":[],"mappings":"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","file":"144.js","sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { CoreComponentsModule } from '@components/components.module';\nimport { CoreDirectivesModule } from '@directives/directives.module';\nimport { CorePipesModule } from '@pipes/pipes.module';\nimport { AddonCalendarEventPage } from './event';\n\n@NgModule({\n    declarations: [\n        AddonCalendarEventPage,\n    ],\n    imports: [\n        CoreComponentsModule,\n        CoreDirectivesModule,\n        CorePipesModule,\n        IonicPageModule.forChild(AddonCalendarEventPage),\n        TranslateModule.forChild()\n    ],\n})\nexport class AddonCalendarEventPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/addon/calendar/pages/event/event.module.ts","// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, ViewChild, Optional, OnDestroy, NgZone } from '@angular/core';\nimport { IonicPage, Content, NavParams, NavController } from 'ionic-angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport { AddonCalendarProvider } from '../../providers/calendar';\nimport { AddonCalendarHelperProvider } from '../../providers/helper';\nimport { AddonCalendarOfflineProvider } from '../../providers/calendar-offline';\nimport { AddonCalendarSyncProvider } from '../../providers/calendar-sync';\nimport { CoreCoursesProvider } from '@core/courses/providers/courses';\nimport { CoreAppProvider } from '@providers/app';\nimport { CoreEventsProvider } from '@providers/events';\nimport { CoreDomUtilsProvider } from '@providers/utils/dom';\nimport { CoreTextUtilsProvider } from '@providers/utils/text';\nimport { CoreSitesProvider } from '@providers/sites';\nimport { CoreLocalNotificationsProvider } from '@providers/local-notifications';\nimport { CoreCourseProvider } from '@core/course/providers/course';\nimport { CoreTimeUtilsProvider } from '@providers/utils/time';\nimport { CoreGroupsProvider } from '@providers/groups';\nimport { CoreSplitViewComponent } from '@components/split-view/split-view';\nimport { Network } from '@ionic-native/network';\n\n/**\n * Page that displays a single calendar event.\n */\n@IonicPage({ segment: 'addon-calendar-event' })\n@Component({\n    selector: 'page-addon-calendar-event',\n    templateUrl: 'event.html',\n})\nexport class AddonCalendarEventPage implements OnDestroy {\n    @ViewChild(Content) content: Content;\n\n    protected eventId;\n    protected siteHomeId: number;\n    protected editEventObserver: any;\n    protected syncObserver: any;\n    protected manualSyncObserver: any;\n    protected onlineObserver: any;\n    protected currentSiteId: string;\n\n    eventLoaded: boolean;\n    notificationFormat: string;\n    notificationMin: string;\n    notificationMax: string;\n    notificationTimeText: string;\n    event: any = {};\n    courseId: number;\n    courseName: string;\n    groupName: string;\n    courseUrl = '';\n    notificationsEnabled = false;\n    moduleUrl = '';\n    categoryPath = '';\n    currentTime: number;\n    defaultTime: number;\n    reminders: any[];\n    canEdit = false;\n    canDelete = false;\n    hasOffline = false;\n    isOnline = false;\n    syncIcon: string; // Sync icon.\n    isSplitViewOn = false;\n\n    constructor(private translate: TranslateService, private calendarProvider: AddonCalendarProvider, navParams: NavParams,\n            private domUtils: CoreDomUtilsProvider, private coursesProvider: CoreCoursesProvider,\n            private calendarHelper: AddonCalendarHelperProvider, private sitesProvider: CoreSitesProvider,\n            localNotificationsProvider: CoreLocalNotificationsProvider, private courseProvider: CoreCourseProvider,\n            private textUtils: CoreTextUtilsProvider, private timeUtils: CoreTimeUtilsProvider,\n            private groupsProvider: CoreGroupsProvider, @Optional() private svComponent: CoreSplitViewComponent,\n            private navCtrl: NavController, private eventsProvider: CoreEventsProvider, network: Network, zone: NgZone,\n            private calendarSync: AddonCalendarSyncProvider, private appProvider: CoreAppProvider,\n            private calendarOffline: AddonCalendarOfflineProvider) {\n\n        this.eventId = navParams.get('id');\n        this.notificationsEnabled = localNotificationsProvider.isAvailable();\n        this.siteHomeId = sitesProvider.getCurrentSite().getSiteHomeId();\n        this.currentSiteId = sitesProvider.getCurrentSiteId();\n        this.isSplitViewOn = this.svComponent && this.svComponent.isOn();\n\n        // Check if site supports editing and deleting. No need to check allowed types, event.canedit already does it.\n        this.canEdit = this.calendarProvider.canEditEventsInSite();\n        this.canDelete = this.calendarProvider.canDeleteEventsInSite();\n\n        if (this.notificationsEnabled) {\n            this.calendarProvider.getEventReminders(this.eventId).then((reminders) => {\n                this.reminders = reminders;\n            });\n\n            this.calendarProvider.getDefaultNotificationTime().then((defaultTime) => {\n                this.defaultTime = defaultTime * 60;\n            });\n\n            // Calculate format to use.\n            this.notificationFormat = this.timeUtils.fixFormatForDatetime(this.timeUtils.convertPHPToMoment(\n                    this.translate.instant('core.strftimedatetime')));\n        }\n\n        // Listen for event edited. If current event is edited, reload the data.\n        this.editEventObserver = eventsProvider.on(AddonCalendarProvider.EDIT_EVENT_EVENT, (data) => {\n            if (data && data.event && data.event.id == this.eventId) {\n                this.eventLoaded = false;\n                this.refreshEvent(true, false);\n            }\n        }, this.currentSiteId);\n\n        // Refresh data if this calendar event is synchronized automatically.\n        this.syncObserver = eventsProvider.on(AddonCalendarSyncProvider.AUTO_SYNCED, this.checkSyncResult.bind(this, false),\n                this.currentSiteId);\n\n        // Refresh data if calendar events are synchronized manually but not by this page.\n        this.manualSyncObserver = eventsProvider.on(AddonCalendarSyncProvider.MANUAL_SYNCED, this.checkSyncResult.bind(this, true),\n                this.currentSiteId);\n\n        // Refresh online status when changes.\n        this.onlineObserver = network.onchange().subscribe(() => {\n            // Execute the callback in the Angular zone, so change detection doesn't stop working.\n            zone.run(() => {\n                this.isOnline = this.appProvider.isOnline();\n            });\n        });\n    }\n\n    /**\n     * View loaded.\n     */\n    ionViewDidLoad(): void {\n        this.syncIcon = 'spinner';\n\n        this.fetchEvent();\n    }\n\n    /**\n     * Fetches the event and updates the view.\n     *\n     * @param sync Whether it should try to synchronize offline events.\n     * @param showErrors Whether to show sync errors to the user.\n     * @return Promise resolved when done.\n     */\n    fetchEvent(sync?: boolean, showErrors?: boolean): Promise<any> {\n        const currentSite = this.sitesProvider.getCurrentSite(),\n            canGetById = this.calendarProvider.isGetEventByIdAvailableInSite();\n        let promise,\n            deleted = false;\n\n        this.isOnline = this.appProvider.isOnline();\n\n        if (sync) {\n            // Try to synchronize offline events.\n            promise = this.calendarSync.syncEvents().then((result) => {\n                if (result.warnings && result.warnings.length) {\n                    this.domUtils.showErrorModal(result.warnings[0]);\n                }\n\n                if (result.deleted && result.deleted.indexOf(this.eventId) != -1) {\n                    // This event was deleted during the sync.\n                    deleted = true;\n                }\n\n                if (result.updated) {\n                    // Trigger a manual sync event.\n                    result.source = 'event';\n\n                    this.eventsProvider.trigger(AddonCalendarSyncProvider.MANUAL_SYNCED, result, this.currentSiteId);\n                }\n            }).catch((error) => {\n                if (showErrors) {\n                    this.domUtils.showErrorModalDefault(error, 'core.errorsync', true);\n                }\n            });\n        } else {\n            promise = Promise.resolve();\n        }\n\n        return promise.then(() => {\n            if (deleted) {\n                return;\n            }\n\n            const promises = [];\n\n            // Get the event data.\n            if (canGetById) {\n                promises.push(this.calendarProvider.getEventById(this.eventId));\n            } else {\n                promises.push(this.calendarProvider.getEvent(this.eventId));\n            }\n\n            // Get offline data.\n            promises.push(this.calendarOffline.getEvent(this.eventId).catch(() => {\n                // No offline data.\n            }));\n\n            return Promise.all(promises).then((results) => {\n                if (results[1]) {\n                    // There is offline data, apply it.\n                    this.hasOffline = true;\n                    Object.assign(results[0], results[1]);\n                } else {\n                    this.hasOffline = false;\n                }\n\n                return results[0];\n            });\n\n        }).then((event) => {\n            if (deleted) {\n                return;\n            }\n\n            const promises = [];\n\n            this.calendarHelper.formatEventData(event);\n            this.event = event;\n\n            this.currentTime = this.timeUtils.timestamp();\n            this.notificationMin = this.timeUtils.userDate(this.currentTime * 1000, 'YYYY-MM-DDTHH:mm', false);\n            this.notificationMax = this.timeUtils.userDate((event.timestart + event.timeduration) * 1000,\n                'YYYY-MM-DDTHH:mm', false);\n\n            // Reset some of the calculated data.\n            this.categoryPath = '';\n            this.courseName = '';\n            this.courseUrl = '';\n            this.moduleUrl = '';\n\n            if (event.moduleIcon) {\n                // It's a module event, translate the module name to the current language.\n                const name = this.courseProvider.translateModuleName(event.modulename);\n                if (name.indexOf('core.mod_') === -1) {\n                    event.moduleName = name;\n                }\n\n                // Get the module URL.\n                if (canGetById) {\n                    this.moduleUrl = event.url;\n                }\n            }\n\n            // If the event belongs to a course, get the course name and the URL to view it.\n            if (canGetById && event.course && event.course.id != this.siteHomeId) {\n                this.courseId = event.course.id;\n                this.courseName = event.course.fullname;\n                this.courseUrl = event.course.viewurl;\n            } else if (event.courseid && event.courseid != this.siteHomeId) {\n                // Retrieve the course.\n                promises.push(this.coursesProvider.getUserCourse(event.courseid, true).then((course) => {\n                    this.courseId = course.id;\n                    this.courseName = course.fullname;\n                    this.courseUrl = currentSite ? this.textUtils.concatenatePaths(currentSite.siteUrl,\n                            '/course/view.php?id=' + event.courseid) : '';\n                }).catch(() => {\n                    // Error getting course, just don't show the course name.\n                }));\n            }\n\n            // If it's a group event, get the name of the group.\n            const courseId = canGetById && event.course ? event.course.id : event.courseid;\n            if (courseId && event.groupid) {\n                promises.push(this.groupsProvider.getUserGroupsInCourse(event.courseid).then((groups) => {\n                    const group = groups.find((group) => {\n                        return group.id == event.groupid;\n                    });\n\n                    this.groupName = group ? group.name : '';\n                }).catch(() => {\n                    // Error getting groups, just don't show the group name.\n                    this.groupName = '';\n                }));\n            }\n\n            if (canGetById && event.iscategoryevent && event.category) {\n                this.categoryPath = event.category.nestedname;\n            }\n\n            if (event.location) {\n                // Build a link to open the address in maps.\n                event.location = this.textUtils.decodeHTML(event.location);\n                event.encodedLocation = this.textUtils.buildAddressURL(event.location);\n            }\n\n            // Check if event was deleted in offine.\n            promises.push(this.calendarOffline.isEventDeleted(this.eventId).then((deleted) => {\n                event.deleted = deleted;\n            }));\n\n            // Re-calculate the formatted time so it uses the device date.\n            promises.push(this.calendarProvider.getCalendarTimeFormat().then((timeFormat) => {\n                this.calendarProvider.formatEventTime(event, timeFormat).then((time) => {\n                    event.formattedtime = time;\n                });\n            }));\n\n            return Promise.all(promises);\n        }).catch((error) => {\n            this.domUtils.showErrorModalDefault(error, 'addon.calendar.errorloadevent', true);\n        }).finally(() => {\n            this.eventLoaded = true;\n            this.syncIcon = 'sync';\n        });\n    }\n\n    /**\n     * Add a reminder for this event.\n     */\n    addNotificationTime(): void {\n        if (this.notificationTimeText && this.event && this.event.id) {\n            let notificationTime = this.timeUtils.convertToTimestamp(this.notificationTimeText);\n\n            const currentTime = this.timeUtils.timestamp(),\n                minute = Math.floor(currentTime / 60) * 60;\n\n            // Check if the notification time is in the same minute as we are, so the notification is triggered.\n            if (notificationTime >=  minute && notificationTime < minute + 60) {\n                notificationTime  = currentTime + 1;\n            }\n\n            this.calendarProvider.addEventReminder(this.event, notificationTime).then(() => {\n                this.calendarProvider.getEventReminders(this.eventId).then((reminders) => {\n                    this.reminders = reminders;\n                });\n\n                this.notificationTimeText = null;\n            });\n        }\n    }\n\n    /**\n     * Cancel the selected notification.\n     *\n     * @param id Reminder ID.\n     * @param e Click event.\n     */\n    cancelNotification(id: number, e: Event): void {\n        e.preventDefault();\n        e.stopPropagation();\n\n        this.domUtils.showDeleteConfirm().then(() => {\n            const modal = this.domUtils.showModalLoading('core.deleting', true);\n            this.calendarProvider.deleteEventReminder(id).then(() => {\n                this.calendarProvider.getEventReminders(this.eventId).then((reminders) => {\n                    this.reminders = reminders;\n                });\n            }).catch((error) => {\n                this.domUtils.showErrorModalDefault(error, 'Error deleting reminder');\n            }).finally(() => {\n                modal.dismiss();\n            });\n        }).catch(() => {\n            // Cancelled.\n        });\n    }\n\n    /**\n     * Refresh the data.\n     *\n     * @param refresher Refresher.\n     * @param done Function to call when done.\n     * @param showErrors Whether to show sync errors to the user.\n     * @return Promise resolved when done.\n     */\n    doRefresh(refresher?: any, done?: () => void, showErrors?: boolean): Promise<any> {\n        if (this.eventLoaded) {\n            return this.refreshEvent(true, showErrors).finally(() => {\n                refresher && refresher.complete();\n                done && done();\n            });\n        }\n\n        return Promise.resolve();\n    }\n\n    /**\n     * Refresh the event.\n     *\n     * @param sync Whether it should try to synchronize offline events.\n     * @param showErrors Whether to show sync errors to the user.\n     * @return Promise resolved when done.\n     */\n    refreshEvent(sync?: boolean, showErrors?: boolean): Promise<any> {\n        this.syncIcon = 'spinner';\n\n        const promises = [];\n\n        promises.push(this.calendarProvider.invalidateEvent(this.eventId));\n        promises.push(this.calendarProvider.invalidateTimeFormat());\n\n        return Promise.all(promises).catch(() => {\n            // Ignore errors.\n        }).then(() => {\n            return this.fetchEvent(sync, showErrors);\n        });\n    }\n\n    /**\n     * Open the page to edit the event.\n     */\n    openEdit(): void {\n        // Decide which navCtrl to use. If this page is inside a split view, use the split view's master nav.\n        const navCtrl = this.svComponent ? this.svComponent.getMasterNav() : this.navCtrl;\n        navCtrl.push('AddonCalendarEditEventPage', {eventId: this.eventId});\n    }\n\n    /**\n     * Delete the event.\n     */\n    deleteEvent(): void {\n        const title = this.translate.instant('addon.calendar.deleteevent'),\n            options: any = {};\n        let message: string;\n\n        if (this.event.eventcount > 1) {\n            // It's a repeated event.\n            message = this.translate.instant('addon.calendar.confirmeventseriesdelete',\n                            {$a: {name: this.event.name, count: this.event.eventcount}});\n\n            options.inputs = [\n                {\n                    type: 'radio',\n                    name: 'deleteall',\n                    checked: true,\n                    value: false,\n                    label: this.translate.instant('addon.calendar.deleteoneevent')\n                },\n                {\n                    type: 'radio',\n                    name: 'deleteall',\n                    checked: false,\n                    value: true,\n                    label: this.translate.instant('addon.calendar.deleteallevents')\n                }\n            ];\n        } else {\n            // Not repeated, display a simple confirm.\n            message = this.translate.instant('addon.calendar.confirmeventdelete', {$a: this.event.name});\n        }\n\n        this.domUtils.showConfirm(message, title, undefined, undefined, options).then((deleteAll) => {\n\n            const modal = this.domUtils.showModalLoading('core.sending', true);\n\n            this.calendarProvider.deleteEvent(this.event.id, this.event.name, deleteAll).then((sent) => {\n                let promise;\n\n                if (sent) {\n                    // Event deleted, invalidate right days & months.\n                    promise = this.calendarHelper.refreshAfterChangeEvent(this.event, deleteAll ? this.event.eventcount : 1)\n                            .catch(() => {\n                        // Ignore errors.\n                    });\n                } else {\n                    promise = Promise.resolve();\n                }\n\n                return promise.then(() => {\n                    // Trigger an event.\n                    this.eventsProvider.trigger(AddonCalendarProvider.DELETED_EVENT_EVENT, {\n                        eventId: this.eventId,\n                        sent: sent\n                    }, this.sitesProvider.getCurrentSiteId());\n\n                    if (sent) {\n                        this.domUtils.showToast('addon.calendar.eventcalendareventdeleted', true, 3000, undefined, false);\n\n                        // Event deleted, close the view.\n                        if (!this.svComponent || !this.svComponent.isOn()) {\n                            this.navCtrl.pop();\n                        }\n                    } else {\n                        // Event deleted in offline, just mark it as deleted.\n                        this.event.deleted = true;\n                    }\n                });\n            }).catch((error) => {\n                this.domUtils.showErrorModalDefault(error, 'Error deleting event.');\n            }).finally(() => {\n                modal.dismiss();\n            });\n        }, () => {\n            // User canceled.\n        });\n    }\n\n    /**\n     * Undo delete the event.\n     */\n    undoDelete(): void {\n        const modal = this.domUtils.showModalLoading('core.sending', true);\n\n        this.calendarOffline.unmarkDeleted(this.event.id).then(() => {\n\n            // Trigger an event.\n            this.eventsProvider.trigger(AddonCalendarProvider.UNDELETED_EVENT_EVENT, {\n                eventId: this.eventId\n            }, this.sitesProvider.getCurrentSiteId());\n\n            this.event.deleted = false;\n\n        }).catch((error) => {\n            this.domUtils.showErrorModalDefault(error, 'Error undeleting event.');\n        }).finally(() => {\n            modal.dismiss();\n        });\n    }\n\n    /**\n     * Check the result of an automatic sync or a manual sync not done by this page.\n     *\n     * @param isManual Whether it's a manual sync.\n     * @param data Sync result.\n     */\n    protected checkSyncResult(isManual: boolean, data: any): void {\n        if (!data) {\n            return;\n        }\n\n        if (data.deleted && data.deleted.indexOf(this.eventId) != -1) {\n            this.domUtils.showToast('addon.calendar.eventcalendareventdeleted', true, 3000, undefined, false);\n\n            // Event was deleted, close the view.\n            if (!this.svComponent || !this.svComponent.isOn()) {\n                this.navCtrl.pop();\n            }\n        } else if (data.events && (!isManual || data.source != 'event')) {\n            const event = data.events.find((ev) => {\n                return ev.id == this.eventId;\n            });\n\n            if (event) {\n                this.eventLoaded = false;\n                this.refreshEvent();\n            }\n        }\n    }\n\n    /**\n     * Page destroyed.\n     */\n    ngOnDestroy(): void {\n        this.editEventObserver && this.editEventObserver.off();\n        this.syncObserver && this.syncObserver.off();\n        this.manualSyncObserver && this.manualSyncObserver.off();\n        this.onlineObserver && this.onlineObserver.unsubscribe();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/addon/calendar/pages/event/event.ts"],"sourceRoot":""}