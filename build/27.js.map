{"version":3,"sources":["../../src/core/settings/pages/licenses/licenses.module.ts","../../src/core/settings/pages/licenses/licenses.ts"],"names":[],"mappings":"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","file":"27.js","sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { CoreSettingsLicensesPage } from './licenses';\nimport { CoreComponentsModule } from '@components/components.module';\nimport { CoreDirectivesModule } from '@directives/directives.module';\nimport { CorePipesModule } from '@pipes/pipes.module';\n\n@NgModule({\n    declarations: [\n        CoreSettingsLicensesPage\n    ],\n    imports: [\n        CoreComponentsModule,\n        CoreDirectivesModule,\n        CorePipesModule,\n        IonicPageModule.forChild(CoreSettingsLicensesPage),\n        TranslateModule.forChild()\n    ],\n})\nexport class CoreSettingsLicensesPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/settings/pages/licenses/licenses.module.ts","// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component } from '@angular/core';\nimport { IonicPage } from 'ionic-angular';\nimport { HttpClient } from '@angular/common/http';\nimport { CoreConfigConstants } from '../../../../configconstants';\n\n/**\n * Defines license info\n */\ninterface CoreSettingsLicense {\n    name: string;\n    version: string;\n    licenses: string;\n    repository?: string;\n    publisher?: string;\n    url?: string;\n    email?: string;\n    licenseUrl?: string;\n    licenseFile?: string;\n}\n\n/**\n * Page that displays the open source licenses information.\n */\n@IonicPage({segment: 'core-settings-licenses'})\n@Component({\n    selector: 'page-core-settings-licenses',\n    templateUrl: 'licenses.html',\n})\nexport class CoreSettingsLicensesPage {\n\n    licensesUrl: string;\n    loaded = false;\n    licenses: CoreSettingsLicense[];\n    error = false;\n\n    constructor(protected http: HttpClient) {\n        let version = 'v' + CoreConfigConstants.versionname;\n        if (version.indexOf('-') > 0) {\n            version = 'integration';\n        }\n\n        this.licensesUrl = 'https://raw.githubusercontent.com/moodlehq/moodleapp/' + version + '/licenses.json';\n    }\n\n    /**\n     * View loaded.\n     */\n    ionViewDidLoad(): void {\n        this.http.get(this.licensesUrl).toPromise().then((licenses) => {\n            this.licenses = Object.keys(licenses).map((name) => {\n                const license = licenses[name];\n\n                const nameSplit = name.lastIndexOf('@');\n                license.name = name.substring(0, nameSplit);\n                license.version = name.substring(nameSplit + 1);\n\n                if (license.repository) {\n                    license.repository = license.repository.replace('git://', 'https://');\n                    if (license.repository.indexOf('github.com') > 0) {\n                        license.licenseUrl = license.repository + '/blob/' + license.version + '/' + license.licenseFile;\n                    }\n                }\n\n                return license;\n            });\n\n            this.error = false;\n        }).catch(() => {\n            this.error = true;\n        }).finally(() => {\n            this.loaded = true;\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/settings/pages/licenses/licenses.ts"],"sourceRoot":""}